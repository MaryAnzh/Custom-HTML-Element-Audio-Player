{"version":3,"file":"main.js","mappings":"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","sources":["webpack://audio_player/./src/view/control.ts","webpack://audio_player/./src/view/components/nav/nav.ts","webpack://audio_player/./src/view/components/header/header.ts","webpack://audio_player/./src/view/components/footer/footer.ts","webpack://audio_player/./src/view/pages/main/main.ts","webpack://audio_player/./src/view/pages/about/about.ts","webpack://audio_player/./src/view/pages/not-found/not-found.ts","webpack://audio_player/./src/view/app.ts","webpack://audio_player/./src/view/components/audio-player/audio-player.ts","webpack://audio_player/./src/index.ts","webpack://audio_player/./src/view/app-router .ts"],"sourcesContent":["\r\ninterface IAtr {\r\n    name: string,\r\n    value: string,\r\n}\r\nexport class Control {\r\n    public node;\r\n\r\n    constructor(perentNode: HTMLElement, tagName: string = 'div', className: string | string[], content: string = '', atr: IAtr[] | null) {\r\n        const element = document.createElement(tagName);\r\n        if (Array.isArray(className)) {\r\n            className.forEach(name => element.classList.add(name));\r\n        }\r\n        if (typeof className === 'string') {\r\n            element.className = className;\r\n        }\r\n        element.textContent = content;\r\n        if (perentNode) {\r\n            perentNode.append(element);\r\n        }\r\n        if (atr) {\r\n            atr.forEach(el => element.setAttribute(el.name, el.value));\r\n        }\r\n        this.node = element;\r\n    }\r\n\r\n    destroy() {\r\n        this.node.remove();\r\n    }\r\n}","import { Control } from \"../../control\";\r\n\r\nexport class Nav {\r\n    public node: HTMLElement;\r\n    private _ul: Control;\r\n    private _navLists: string[] = [\r\n        'main',\r\n        'about',\r\n    ];\r\n    public navItems: HTMLElement[] = [];\r\n\r\n    constructor() {\r\n        this.node = document.createElement('nav');\r\n        this.node.className = 'nav';\r\n        this._ul = new Control(this.node, 'ul', 'nav__list', '', null);\r\n        this._navLists.forEach((name, i) => {\r\n            const li = new Control(this._ul.node, 'li', 'nav__list__item', name, null);\r\n            const link = i === 0 ? '#/' : `#/${name}`;\r\n            const a = new Control(li.node, 'a', 'nav__list__item__link', '', [{ name: 'href', value: link }]);\r\n            this.navItems.push(li.node);\r\n        });\r\n    }\r\n    \r\n}","import { Nav } from '../nav/nav'\r\n\r\n\r\nexport class Header {\r\n    public node: Element;\r\n    private _nav: Nav;\r\n    public navItems: HTMLElement[] = [];\r\n\r\n    constructor() {\r\n        this.node = document.createElement('header');\r\n        this.node.classList.add('header');\r\n\r\n        this._nav = new Nav();\r\n        this.navItems = this._nav.navItems;\r\n        this.node.appendChild(this._nav.node);\r\n    }\r\n\r\n    selectCurrentPage(pageName: string) {\r\n        this.navItems.forEach(el => el.classList.remove('active'));\r\n        switch (pageName) {\r\n            case '/':\r\n                this.navItems[0].classList.add('active');\r\n                break;\r\n            case '/about':\r\n                this.navItems[1].classList.add('active');\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}","export class Footer {\r\n    public node: Element;\r\n    constructor() {\r\n        this.node = document.createElement('footer');\r\n        this.node.classList.add('footer');\r\n        this.node.textContent = 'footer';\r\n    }\r\n}","import { Control } from \"../../control\";\r\n\r\nexport class Main {\r\n    public name: string = 'main-page';\r\n\r\n    public page: Control;\r\n    private title: Control;\r\n    private audio: Control;\r\n\r\n    constructor() {\r\n        this.page = new Control(null, 'div', this.name, '', null);\r\n        this.title = new Control(this.page.node, 'h2', `${this.name}__title`, this.name, null);\r\n        this.audio = new Control(this.page.node, 'audio-player', 'custom', '', [{ name: 'playButtonSize', value: '20' }]);\r\n    }\r\n\r\n    destroy: () => void = () => {\r\n        this.page.node.remove();\r\n    };\r\n}","import { Control } from \"../../control\";\r\n\r\nlet id = 0;\r\nexport class About {\r\n    public name: string = 'about-page';\r\n\r\n    public page: Control;\r\n    private _title: Control;\r\n\r\n\r\n    constructor() {\r\n        this.page = new Control(null, 'div', 'about-page', '', null);\r\n        this.page.node.id = (id++).toString();\r\n        this._title = new Control(this.page.node, 'h2', 'about-page__title', this.name, null);\r\n    }\r\n\r\n    destroy: () => void = () => {\r\n        this.page.node.remove();\r\n    };\r\n}","import { Control } from \"../../control\";\r\n\r\nexport class NotFound {\r\n    public name: string = 'not-found-page';\r\n    public page: Control;\r\n    private _title: Control;\r\n\r\n    constructor() {\r\n        this.page = new Control(null, 'div', this.name, '', null);\r\n        this._title = new Control(this.page.node, 'h2', `${this.name}__title`, this.name, null);\r\n    }\r\n\r\n    destroy: () => void = () => {\r\n        this.page.node.remove();\r\n    };\r\n}","import { Control } from './control';\r\nimport { Header } from './components/header/header';\r\nimport { Footer } from './components/footer/footer';\r\nimport { Main } from './pages/main/main';\r\nimport { About } from './pages/about/about';\r\nimport { NotFound } from './pages/not-found/not-found';\r\n\r\nclass App {\r\n    private _body: HTMLElement;\r\n    private _wrapper: Control;\r\n    private _header: Header;\r\n    private _footer: Footer;\r\n    public main: Control;\r\n    private _currentPage: Main | About | NotFound | null = null;\r\n\r\n    constructor() {\r\n        this._body = document.querySelector('body');\r\n        this._wrapper = new Control(this._body, 'div', 'wrapper', '', null);\r\n        this._header = new Header();\r\n        this._footer = new Footer();\r\n        this.main = new Control(null, 'main', 'main', '', null);\r\n        this._wrapper.node.append(this._header.node, this.main.node, this._footer.node);\r\n    }\r\n\r\n    addPage(page: string) {\r\n        this._header.selectCurrentPage(page);\r\n        \r\n        let newPage: Main | About | NotFound | null = null;\r\n\r\n        switch (page) {\r\n            case '/':\r\n                newPage = new Main();\r\n                break;\r\n\r\n            case '/about':\r\n                newPage = new About();\r\n                break;\r\n            default:\r\n                newPage = new NotFound();\r\n                break;\r\n        }\r\n\r\n        this._currentPage = newPage;\r\n        this.main.node.appendChild(newPage.page.node);\r\n    }\r\n\r\n    removePage() {\r\n        if (this._currentPage !== null) {\r\n            this._currentPage.destroy();\r\n        }\r\n    }\r\n}\r\n\r\nexport const app = new App();","import { Control } from '../../control';\r\n\r\nexport class AudioPlayerCustomHTML extends HTMLElement {\r\n    private audio = new Audio();\r\n    private container: Control;\r\n    private playButton: Control;\r\n    isPlay = false;\r\n\r\n    static observedAttributes = [\r\n        'playButtonSize',\r\n    ];\r\n\r\n    get playButtonSize(): number {\r\n        return +this.getAttribute('playButtonSize');\r\n    }\r\n\r\n    set playButtonSize(value: number) {\r\n        this.setAttribute('playButtonSize', value.toString());\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this.audio.src = 'assets/audio/Christmas_Time_-_Jingle_Bell_Rock_(musmore.com).mp3';\r\n    }\r\n\r\n    connectedCallback() {\r\n        this.container = new Control(this, 'section', 'audio-palayer', '', null);\r\n        this.playButton = new Control(this.container.node, 'button', 'audio-palayer__button', '+', null);\r\n        this.playButton.node.onclick = () => this.play();\r\n    }\r\n\r\n    disconnectedCallback() {\r\n        // браузер вызывает этот метод при удалении элемента из документа\r\n        // (может вызываться много раз, если элемент многократно добавляется/удаляется)\r\n    }\r\n\r\n    attributeChangedCallback(name: any, oldValue: any, newValue: any) {\r\n\r\n    }\r\n\r\n    update() { }\r\n    play() {\r\n        if (this.isPlay) {\r\n            this.audio.pause();\r\n        } else {\r\n            this.audio.play();\r\n        }\r\n        this.isPlay = !this.isPlay;\r\n    }\r\n}","\"use strict\";\r\n\r\nimport './assets/style/style.scss';\r\nimport { app } from './view/app';\r\nimport { AppRouter } from './view/app-router ';\r\nimport { AudioPlayerCustomHTML } from './view/components/audio-player/audio-player';\r\n\r\ncustomElements.define(\"audio-player\", AudioPlayerCustomHTML);\r\n\r\nconst routes: string[] = [\r\n    '/',\r\n    '/about'\r\n];\r\n\r\nlet currentPage: string | null = null;\r\n\r\nconst appRoute = new AppRouter(routes);\r\n\r\nconst onloadPage = () => {\r\n    const page = appRoute.route();\r\n    currentPage = page;\r\n    app.addPage(page);\r\n}\r\n\r\nconst onloadApp = () => {\r\n    app;\r\n    onloadPage();\r\n}\r\n\r\nwindow.onload = () => onloadApp();\r\n\r\nwindow.addEventListener('hashchange', () => {\r\n    app.removePage();\r\n    onloadPage();\r\n});","import { NotFound } from './pages/not-found/not-found'\r\n\r\nexport type Request = {\r\n    resource: string | null, id: string | null, verb: string | null\r\n}\r\n\r\nexport class AppRouter {\r\n    public routes: string[];\r\n    public notFound: NotFound;\r\n\r\n    constructor(routes: string[]) {\r\n        this.routes = routes;\r\n        this.notFound = new NotFound();\r\n    }\r\n\r\n    route = (): string => {\r\n        const pageName = this.parseRequestURL();\r\n        const page = this.routes.filter((el: string): boolean => el == pageName)[0];\r\n        return page;\r\n    }\r\n\r\n    parseRequestURL = (): string => {\r\n        let url = location.hash.slice(1).toLowerCase() || '/';\r\n        let r = url.split(\"/\")\r\n\r\n        let request: Request = {\r\n            resource: null,\r\n            id: null,\r\n            verb: null\r\n        }\r\n\r\n        request.resource = r[1];\r\n        request.id = r[2];\r\n        request.verb = r[3];;\r\n        let parsedURL = (request.resource ? '/' + request.resource : '/') + (request.id ? '/:id' : '') + (request.verb ? '/' + request.verb : '')\r\n        return parsedURL;\r\n    }\r\n}"],"names":["Control","constructor","perentNode","tagName","className","content","atr","element","document","createElement","Array","isArray","forEach","name","classList","add","textContent","append","el","setAttribute","value","this","node","destroy","remove","Nav","_navLists","navItems","_ul","i","li","link","push","Header","_nav","appendChild","selectCurrentPage","pageName","Footer","Main","page","title","audio","id","About","toString","_title","NotFound","app","_currentPage","_body","querySelector","_wrapper","_header","_footer","main","addPage","newPage","removePage","AudioPlayerCustomHTML","HTMLElement","super","Audio","isPlay","src","playButtonSize","getAttribute","connectedCallback","container","playButton","onclick","play","disconnectedCallback","attributeChangedCallback","oldValue","newValue","update","pause","observedAttributes","customElements","define","currentPage","appRoute","routes","route","parseRequestURL","filter","r","location","hash","slice","toLowerCase","split","request","resource","verb","notFound","onloadPage","window","onload","addEventListener"],"sourceRoot":""}