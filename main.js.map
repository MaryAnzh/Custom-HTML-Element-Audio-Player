{"version":3,"file":"main.js","mappings":"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","sources":["webpack://audio_player/./src/service/control.ts","webpack://audio_player/./src/view/components/nav/nav.ts","webpack://audio_player/./src/view/components/header/header.ts","webpack://audio_player/./src/view/components/footer/footer.ts","webpack://audio_player/./src/data/play-list.ts","webpack://audio_player/./src/view/pages/main/main.ts","webpack://audio_player/./src/view/pages/about/about.ts","webpack://audio_player/./src/view/pages/not-found/not-found.ts","webpack://audio_player/./src/service/translator/en.ts","webpack://audio_player/./src/service/translator/ru.ts","webpack://audio_player/./src/service/translator/by.ts","webpack://audio_player/./src/service/signal.ts","webpack://audio_player/./src/service/translator/translator.ts","webpack://audio_player/./src/view/app.ts","webpack://audio_player/./src/interfaces/play-item.interface.ts","webpack://audio_player/./src/view/components/audio-player/utils.ts","webpack://audio_player/./src/view/components/audio-player/audio-controls/audio-controls.ts","webpack://audio_player/./src/view/components/audio-player/wait-item/wait-item.ts","webpack://audio_player/./src/view/components/audio-player/play-list-item/play-list-item.ts","webpack://audio_player/./src/view/components/audio-player/audio-player.ts","webpack://audio_player/./src/index.ts","webpack://audio_player/./src/view/app-router .ts"],"sourcesContent":["\r\ninterface IAtr {\r\n    name: string,\r\n    value: string,\r\n}\r\n\r\nexport class Control {\r\n    public node;\r\n\r\n    constructor(perentNode: HTMLElement | null, tagName: string = 'div', className: string | string[] = '', content: string = '', atr: IAtr[] | null = null) {\r\n        const element = document.createElement(tagName);\r\n        if (Array.isArray(className)) {\r\n            className.forEach(name => element.classList.add(name));\r\n        }\r\n        if (typeof className === 'string') {\r\n            element.className = className;\r\n        }\r\n        element.textContent = content;\r\n        if (perentNode) {\r\n            perentNode.append(element);\r\n        }\r\n        if (atr) {\r\n            atr.forEach(el => element.setAttribute(el.name, el.value));\r\n        }\r\n        this.node = element;\r\n    }\r\n\r\n    destroy() {\r\n        this.node.remove();\r\n    }\r\n}","import { Control } from \"../../../service/control\";\r\nimport { IElementTranslate } from '../../../interfaces/translator.interfaces';\r\nimport { IDictionary } from \"../../../service/translator/dictionary.interface\";\r\n\r\nexport class Nav extends Control {\r\n    private _ul: Control;\r\n    private _navLists: { name: string, key: keyof IDictionary['NAV'] }[] = [\r\n        { name: 'main', key: 'MAIN' },\r\n        { name: 'about', key: 'ABOUT' },\r\n    ];\r\n\r\n    private nodeKey: keyof IDictionary = 'NAV';\r\n\r\n    public navItems: IElementTranslate[] = [];\r\n\r\n    constructor() {\r\n        super(null, 'nav', 'nav');\r\n\r\n        this._ul = new Control(this.node, 'ul', 'nav__list', '', null);\r\n        this._navLists.forEach((el, i) => {\r\n            const li = new Control(this._ul.node, 'li', 'nav__list__item', '', null);\r\n            const link = i === 0 ? '#/' : `#/${el.name}`;\r\n            const a = new Control(li.node, 'a', 'nav__list__item__link', '', [{ name: 'href', value: link }]);\r\n            this.navItems.push({ element: a.node, perentKey: this.nodeKey, elementKey: el.key });\r\n        });\r\n    }\r\n\r\n    translate(dictionary: IDictionary): void {\r\n        this.navItems.forEach((item) => {\r\n            const key = item.elementKey as keyof IDictionary['NAV'];\r\n            item.element.textContent = dictionary.NAV[key];\r\n        });\r\n    }\r\n}","import { IElementTranslate } from '../../../interfaces/translator.interfaces';\r\nimport { Control } from '../../../service/control';\r\nimport { Nav } from '../nav/nav'\r\n\r\nexport class Header extends Control {\r\n    private container: Control;\r\n    private _nav: Nav;\r\n    public navItems: IElementTranslate[] = [];\r\n\r\n    private langsWrap: Control;\r\n    private langs: string[];\r\n    public langItems: [];\r\n    public onChange: (lang: string) => void;\r\n\r\n    constructor(langs: string[]) {\r\n        super(null, 'header', 'header');\r\n        this.langs = langs;\r\n\r\n        this.container = new Control(this.node, 'div', 'container');\r\n        this._nav = new Nav();\r\n        this.navItems = this._nav.navItems;\r\n        this.container.node.appendChild(this._nav.node);\r\n\r\n        this.langsWrap = new Control(this.container.node, 'div', 'container__langs');\r\n        this.langs.forEach((lang, i) => {\r\n            const container = new Control(this.langsWrap.node, 'div', 'header__langs__item');\r\n            const check = i === 0 ? 'true' : 'false';\r\n\r\n            const input = new Control(container.node, 'input', 'header__langs__item__input', '',\r\n                [\r\n                    { name: 'name', value: 'lang' },\r\n                    { name: 'id', value: `${lang}` },\r\n                    { name: 'type', value: 'radio' }]);\r\n\r\n            input.node.onchange = () => this.onChange(lang);\r\n            if (i === 0) {\r\n                const checkedInput = <HTMLInputElement>input.node;\r\n                checkedInput.checked = true;\r\n            }\r\n\r\n            const label = new Control(container.node, 'label', 'header__langs__item__label', lang,\r\n                [{ name: 'for', value: `${lang}` },]);\r\n        });\r\n    }\r\n\r\n    translate(config: any): void {\r\n        this._nav.translate(config);\r\n    }\r\n\r\n    selectCurrentPage(pageName: string) {\r\n        this.navItems.forEach(item => item.element.classList.remove('active'));\r\n        switch (pageName) {\r\n            case '/':\r\n                this.navItems[0].element.classList.add('active');\r\n                break;\r\n            case '/about':\r\n                this.navItems[1].element.classList.add('active');\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}","\r\nexport class Footer {\r\n    public node: Element;\r\n    constructor() {\r\n        this.node = document.createElement('footer');\r\n        this.node.classList.add('footer');\r\n        this.node.textContent = 'footer';\r\n    }\r\n}","import { IPlayItem } from '../interfaces/play-item.interface'\r\n\r\nexport const playListData: IPlayItem[] = [\r\n    {\r\n        title: \"Jingle Bell Rock\",\r\n        src: \"assets/audio/Christmas_Time_-_Jingle_Bell_Rock_(musmore.com).mp3\"\r\n    },\r\n    {\r\n        title: 'Jingle Bells',\r\n        src: 'assets/audio/Jingle Bells - Christmas Songs.mp3'\r\n    },\r\n    {\r\n        title: 'Happy New Year',\r\n        src: 'assets/audio/Happy New Year.mp3'\r\n    }\r\n]\r\n","import { Control } from \"../../../service/control\";\r\nimport { playListData } from '../../../data/play-list';\r\nimport { AudioPlayerCustomHTML } from \"../../components/audio-player/audio-player\";\r\nimport { IDictionary } from \"../../../service/translator/dictionary.interface\";\r\n\r\nexport class Main extends Control {\r\n    public name: string = 'main-page';\r\n    private perentKey: keyof IDictionary = 'MAIN';\r\n\r\n    private title: Control;\r\n    private audio: AudioPlayerCustomHTML;\r\n    private playList = playListData;\r\n\r\n    constructor() {\r\n        super(null, 'div', ['main-page', 'page']);\r\n\r\n        this.title = new Control(this.node, 'h2', `main-page__title`, 'Custom HTML Element');\r\n        this.audio = <AudioPlayerCustomHTML>document.createElement('audio-player');\r\n        this.audio.classList.add('main-page__audio-player');\r\n        this.node.appendChild(this.audio);\r\n        this.audio.playList = playListData;\r\n    }\r\n\r\n    translate(dictionary: IDictionary): void {\r\n        const titleKey: keyof IDictionary['MAIN'] = 'TITLE';\r\n        this.title.node.textContent = dictionary.MAIN[titleKey];\r\n    }\r\n\r\n    destroy: () => void = () => {\r\n        this.node.remove();\r\n    };\r\n}","import { Control } from \"../../../service/control\";\r\n\r\nexport class About extends Control {\r\n    public name: string = 'about-page';\r\n\r\n    private _title: Control;\r\n\r\n    constructor() {\r\n        super(null, 'div', ['about-page', 'page']);\r\n\r\n        this._title = new Control(this.node, 'h2', 'about-page__title', this.name, null);\r\n    }\r\n\r\n\r\n    translate(config: any): void {\r\n    }\r\n\r\n    destroy: () => void = () => {\r\n        this.node.remove();\r\n    };\r\n}","import { Control } from \"../../../service/control\";\r\n\r\nexport class NotFound extends Control {\r\n    public name: string = 'not-found-page';\r\n\r\n    private _title: Control;\r\n\r\n    constructor() {\r\n        super(null, 'div', ['not-found', 'page']);\r\n        this._title = new Control(this.node, 'h2', `${this.name}__title`, this.name);\r\n    }\r\n\r\n    translate(config: any): void {\r\n    }\r\n\r\n    destroy: () => void = () => {\r\n        this.node.remove();\r\n    };\r\n}","import { IDictionary } from './dictionary.interface';\r\n\r\nexport const en: IDictionary = {\r\n    NAV: {\r\n        MAIN: 'main',\r\n        ABOUT: 'about'\r\n    },\r\n    MAIN: {\r\n        TITLE: 'Custom HTML Element'\r\n    }\r\n};","import { IDictionary } from \"./dictionary.interface\";\r\n\r\nexport const ru: IDictionary = {\r\n    NAV: {\r\n        MAIN: 'главная',\r\n        ABOUT: 'о проекте',\r\n    },\r\n    MAIN: {\r\n        TITLE: 'Пользовательский HTML элемент'\r\n    }\r\n};","import { IDictionary } from './dictionary.interface';\r\n\r\nexport const by: IDictionary = {\r\n    NAV: {\r\n        MAIN: 'галоўная',\r\n        ABOUT: 'аб праекце'\r\n    },\r\n    MAIN: {\r\n        TITLE: 'Спецыялізаваны элемент кіравання'\r\n    },\r\n};","\r\n\r\nexport class Signal<ListenerType> {\r\n    private listeners: ((params: ListenerType) => void)[];\r\n\r\n    constructor() {\r\n        this.listeners = [];\r\n    }\r\n\r\n    add(listener: (params: ListenerType) => void): void {\r\n        this.listeners.push(listener);\r\n    }\r\n\r\n    emit(params: ListenerType): void {\r\n        this.listeners.forEach(listener => listener(params));\r\n    }\r\n    \r\n    remove(listener: (params: ListenerType) => void): void {\r\n        this.listeners = this.listeners.filter(el => el !== listener);\r\n    }\r\n}\r\n\r\n","import { en } from \"./en\";\r\nimport { ru } from './ru';\r\nimport { by } from './by';\r\nimport { Signal } from '../signal'\r\nimport { IDictionary } from \"./dictionary.interface\";\r\n\r\ntype LangType = \"en\" | \"ru\" | \"by\" | string;\r\n\r\nclass Translator {\r\n    private _lang: LangType;\r\n    public langs: string[];\r\n    onChange: Signal<IDictionary> = new Signal();    \r\n\r\n    constructor() {\r\n        this.langs = ['en', 'ru', 'by'];\r\n        this._lang = 'en';\r\n    }\r\n\r\n    get lang() {\r\n        return this._lang;\r\n    }\r\n\r\n    set lang(value: LangType) {\r\n        this._lang = value;\r\n        this.onChange.emit(this.translate(value));\r\n    }\r\n    \r\n    translate(lang: LangType): IDictionary {\r\n        switch (lang) {\r\n            case 'ru':\r\n                return ru;\r\n            case 'by':\r\n                return by;\r\n            default:\r\n                return en;\r\n        }\r\n    }\r\n}\r\n\r\nexport const translator = new Translator();","import { Control } from '../service/control';\r\nimport { Header } from './components/header/header';\r\nimport { Footer } from './components/footer/footer';\r\nimport { Main } from './pages/main/main';\r\nimport { About } from './pages/about/about';\r\nimport { NotFound } from './pages/not-found/not-found';\r\nimport { translator } from '../service/translator/translator';\r\nimport {IDictionary} from '../service/translator/dictionary.interface'\r\n\r\nclass App extends Control {\r\n    private header: Header;\r\n    private footer: Footer;\r\n    public main: Control;\r\n    private currentPage: Main | About | NotFound | null = null;\r\n\r\n    constructor() {\r\n        super(document.body, 'div', 'wrapper');\r\n\r\n        this.header = new Header(translator.langs);\r\n        this.footer = new Footer();\r\n        this.main = new Control(null, 'main', 'main');\r\n        this.node.append(this.header.node, this.main.node, this.footer.node);\r\n\r\n        this.header.onChange = (lang) => {\r\n            translator.lang = lang;\r\n        };\r\n\r\n        translator.onChange.add(this.translate);\r\n    }\r\n\r\n    addPage(page: string) {\r\n        this.header.selectCurrentPage(page);\r\n        let newPage: Main | About | NotFound | null = null;\r\n\r\n        switch (page) {\r\n            case '/':\r\n                newPage = new Main();\r\n                break;\r\n\r\n            case '/about':\r\n                newPage = new About();\r\n                break;\r\n            default:\r\n                newPage = new NotFound();\r\n                break;\r\n        }\r\n\r\n        this.currentPage = newPage;\r\n        this.main.node.appendChild(newPage.node);\r\n        translator.lang = 'en';\r\n    }\r\n\r\n    removePage() {\r\n        if (this.currentPage !== null) {\r\n            this.currentPage.destroy();\r\n        }\r\n    }\r\n\r\n    translate = (dictionary: IDictionary): void => {\r\n        \r\n        this.header.translate(dictionary);\r\n        if (this.currentPage) {\r\n            this.currentPage.translate(dictionary);\r\n        }\r\n    }\r\n\r\n    destroy(): void {\r\n        translator.onChange.remove(this.translate);\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport const app = new App();","export interface IPlayItem {\r\n    title: string,\r\n    src: string,\r\n}\r\n\r\nexport interface IAudioPlayerItem {\r\n    id: string,\r\n    location: 'waitList' | 'playList',\r\n    title: string,\r\n    src: string,\r\n    audio: HTMLAudioElement,\r\n    time: number,\r\n}\r\n\r\nexport const audioPlayerItem = (id: string,\r\n    location: 'waitList' | 'playList',\r\n    title: string,\r\n    src: string,\r\n    audio: HTMLAudioElement,\r\n    time: number): IAudioPlayerItem => {\r\n    const item: IAudioPlayerItem = {\r\n        id: id,\r\n        location: location,\r\n        title: title,\r\n        src: src,\r\n        audio: audio,\r\n        time: time,\r\n    }\r\n    return item;\r\n}","export class Utils {\r\n    constructor() {\r\n\r\n    }\r\n    \r\n    static viewTime(time: number): string {\r\n        const t = time * 1000;\r\n        let min = Math.floor(t / 1000 / 60);\r\n        let sec = Math.floor((t - (min * 1000 * 60)) / 1000);\r\n        if (sec > 59) {\r\n            min += 1;\r\n            sec = sec - 60;\r\n        }\r\n        const minView = min < 10 ? `0${min}` : min;\r\n        const secView = sec < 10 ? `0${sec}` : sec;\r\n        return minView + ':' + secView;\r\n    }\r\n}","import { IPlayItem } from '../../../../interfaces/play-item.interface';\r\nimport { Control } from '../../../../service/control';\r\nimport { Utils } from '../utils';\r\n\r\nexport class AudioControls extends Control {\r\n    private _audio: null | HTMLAudioElement = null;\r\n    private _timer: NodeJS.Timer;\r\n    private isSoundRunnerMouseDown = false;\r\n    private onMousemove: (e: Event) => void;\r\n    private onMouseUp: () => void;\r\n\r\n    private audioControls: Control;\r\n\r\n    private topContainer: Control;\r\n    private playButton: Control;\r\n    private audioTitle: Control;\r\n\r\n    private timeBar: Control;\r\n    private timeBarRunner: Control;\r\n    private times: Control;\r\n    private timesTimer: Control;\r\n    private audioTime: Control;\r\n    private soundBar: Control;\r\n    private soundBarRunner: Control;\r\n\r\n    private isPlay = false;\r\n    public onEnded: () => void;\r\n    onClick: () => void;\r\n\r\n    constructor(parent: HTMLElement) {\r\n        super(parent, 'div', 'audio');\r\n\r\n        this.audioControls = new Control(this.node, 'div', 'audio__controls');\r\n        this.topContainer = new Control(this.audioControls.node, 'div', 'audio__controls__top');\r\n        this.playButton = new Control(this.topContainer.node, 'button', ['audio__controls__top__button', 'play-button']);\r\n        const svg = document.createElementNS(`http://www.w3.org/2000/svg`, \"svg\");\r\n        svg.setAttribute('viewBox', '0 0 30 15.7');\r\n        svg.innerHTML = `<path d=\"M29.7,1.4l-14,14c-0.4,0.4-1,0.4-1.4,0l-14-14c-0.4-0.4-0.4-1,0-1.4h29.4C30.1,0.4,30.1,1,29.7,1.4z\"/>\r\n        `;\r\n        this.playButton.node.appendChild(svg);\r\n        this.playButton.node.onclick = () => this.onClick();\r\n\r\n        this.audioTitle = new Control(this.topContainer.node, 'h4', 'audio__controls__top__title', 'Title');\r\n\r\n        this.timeBar = new Control(this.audioControls.node, 'div', 'audio__controls__time-bar');\r\n        this.timeBarRunner = new Control(this.timeBar.node, 'div', 'audio__controls__time-bar__runner');\r\n\r\n        this.times = new Control(this.audioControls.node, 'div', 'audio__controls__times');\r\n        this.timesTimer = new Control(this.times.node, 'p', 'audio__controls__times__timer', '00:00');\r\n        this.audioTime = new Control(this.times.node, 'p', 'audio__controls__times__audio-time', '00:00');\r\n\r\n        this.soundBar = new Control(this.audioControls.node, 'div', 'audio__controls__sound-bar');\r\n        this.soundBarRunner = new Control(this.soundBar.node, 'div', 'audio__controls__sound-bar__runner');\r\n        this.soundBarRunner.node.onmousedown = () => this.mouseDownSoundRunner();\r\n    }\r\n\r\n    public update(title: string, time: number, audio: HTMLAudioElement) {\r\n        this.audioTime.node.textContent = Utils.viewTime(time);\r\n        this.audioTitle.node.textContent = title;\r\n        this._audio = audio;\r\n    }\r\n\r\n    public play(): void {\r\n        if (this._audio !== null) {\r\n            this._audio.play();\r\n            this.isPlay = true;\r\n            this._audio.onended = () => this.onEnded();\r\n            this.playButton.node.classList.add('pause-button');\r\n            this.playButton.node.classList.remove('play-button');\r\n            this.startTimer();\r\n        } else {\r\n            this.audioTitle.node.textContent = 'Add audio in playlist';\r\n        }\r\n    }\r\n\r\n    public pause(): void {\r\n        this._audio.pause();\r\n        this.isPlay = false;\r\n        this._audio.onended = null;\r\n        this.playButton.node.classList.remove('pause-button');\r\n        this.playButton.node.classList.add('play-button');\r\n        this.stopTimer();\r\n    }\r\n\r\n    public resetAudioTime() {\r\n        this._audio.currentTime = 0;\r\n        this._audio.onended = null;\r\n    }\r\n\r\n    public resetAudioData() {\r\n        this.audioTime.node.textContent = Utils.viewTime(0);\r\n        this.audioTitle.node.textContent = 'Title';\r\n        this._audio = null;\r\n    }\r\n\r\n    private startTimer(): void {\r\n        this._timer = setInterval(() => {\r\n            const time = this._audio.currentTime;\r\n            this.timesTimer.node.textContent = Utils.viewTime(time);\r\n        }, 250);\r\n    }\r\n\r\n    private stopTimer(): void {\r\n        clearInterval(this._timer);\r\n    }\r\n\r\n    mouseDownSoundRunner = () => {\r\n        console.log('sound runner');\r\n        this.isSoundRunnerMouseDown = true;\r\n        this.onMousemove = (e: Event) => this.mouseMoveSoundRunner(e);\r\n        this.onMouseUp = () => this.mouseUp();\r\n        window.addEventListener('mousemove', this.onMousemove);\r\n        window.addEventListener('mouseup', this.onMouseUp);\r\n    }\r\n\r\n    mouseMoveSoundRunner = (e: Event) => {\r\n        console.log(\"движуха\");\r\n    }\r\n\r\n    mouseUp = () => {\r\n        this.isSoundRunnerMouseDown = false;\r\n        window.removeEventListener('mousemove', this.onMousemove);\r\n        window.removeEventListener('mouseup', this.onMouseUp);\r\n    }\r\n\r\n    destroy(): void {\r\n        this.playButton.node.onclick = null;\r\n        clearInterval(this._timer);\r\n        this.soundBarRunner.node.onmousedown = null;\r\n        this.soundBarRunner.node.onmouseup = null;\r\n        super.destroy();\r\n    }\r\n}","import { IPlayItem } from '../../../../interfaces/play-item.interface';\r\nimport { Control } from '../../../../service/control'\r\nimport { Utils } from '../utils';\r\n\r\nexport class WaiteListItem extends Control {\r\n    public name: string = 'waitList';\r\n    public id: string;\r\n\r\n    private icon: Control;\r\n    private container: Control;\r\n    private title: Control;\r\n    private time: Control;\r\n\r\n    public onClick: () => void;\r\n\r\n    constructor(title: string, time: number, id: string) {\r\n        super(null, 'li', 'items-list__item');\r\n        this.id = id;\r\n\r\n        this.icon = new Control(this.node, 'div', ['items-list__item__icon', 'arrow-to-left']);\r\n        const svg = document.createElementNS(`http://www.w3.org/2000/svg`, \"svg\");\r\n        svg.setAttribute('viewBox', '0 0 30 15.7');\r\n        svg.innerHTML = `<path d=\"M29.7,1.4l-14,14c-0.4,0.4-1,0.4-1.4,0l-14-14c-0.4-0.4-0.4-1,0-1.4h29.4C30.1,0.4,30.1,1,29.7,1.4z\"/>\r\n        `;\r\n        this.icon.node.appendChild(svg);\r\n        this.icon.node.onclick = () => this.onClick();\r\n\r\n        this.container = new Control(this.node, 'div', 'items-list__item__info');\r\n        this.title = new Control(this.container.node, 'p', '', title);\r\n\r\n        this.time = new Control(this.container.node, 'p', '', Utils.viewTime(time));\r\n    }\r\n\r\n    destroy(): void {\r\n        this.icon.node.onclick = null;\r\n        super.destroy();\r\n    }\r\n}","import { IPlayItem } from '../../../../interfaces/play-item.interface';\r\nimport { Control } from '../../../../service/control'\r\nimport { Utils } from '../utils';\r\n\r\nexport class PlayItem extends Control {\r\n    public name = 'playList';\r\n    public id: string;\r\n\r\n    private playIcon: Control;\r\n    private container: Control;\r\n    private title: Control;\r\n    private time: Control;\r\n    private arrowIcon: Control;\r\n\r\n    public onClickPlayPause: () => void;\r\n    public onClickMoveToWaitList: () => void;\r\n\r\n    constructor(title: string, time: number, id: string) {\r\n        super(null, 'li', ['items-list__item', 'play-list-item']);\r\n\r\n        this.id = id;\r\n        this.playIcon = new Control(this.node, 'div', ['items-list__item__icon', 'not-active-item']);\r\n        const playSVG = document.createElementNS(`http://www.w3.org/2000/svg`, \"svg\");\r\n        playSVG.setAttribute('viewBox', '0 0 30 15.7');\r\n        playSVG.innerHTML = `<path d=\"M29.7,1.4l-14,14c-0.4,0.4-1,0.4-1.4,0l-14-14c-0.4-0.4-0.4-1,0-1.4h29.4C30.1,0.4,30.1,1,29.7,1.4z\"/>\r\n        `;\r\n        this.playIcon.node.appendChild(playSVG);\r\n        this.playIcon.node.onclick = () => this.onClickPlayPause();\r\n\r\n        this.container = new Control(this.node, 'div', ['items-list__item__info', 'play-list-item__info']);\r\n        this.title = new Control(this.container.node, 'p', '', title);\r\n\r\n        const timeView = Utils.viewTime(time);\r\n        this.time = new Control(this.container.node, 'p', '', timeView);\r\n\r\n        this.arrowIcon = new Control(this.node, 'div', ['items-list__item__icon', 'arrow-to-right']);\r\n        const arrowSVG = document.createElementNS(`http://www.w3.org/2000/svg`, \"svg\");\r\n        arrowSVG.setAttribute('viewBox', '0 0 30 15.7');\r\n        arrowSVG.innerHTML = `<path d=\"M29.7,1.4l-14,14c-0.4,0.4-1,0.4-1.4,0l-14-14c-0.4-0.4-0.4-1,0-1.4h29.4C30.1,0.4,30.1,1,29.7,1.4z\"/>\r\n        `;\r\n        this.arrowIcon.node.appendChild(arrowSVG);\r\n        this.arrowIcon.node.onclick = () => this.onClickMoveToWaitList();\r\n    }\r\n\r\n    public active() {\r\n        this.playIcon.node.classList.remove('not-active-item');\r\n        this.playIcon.node.classList.add('active-item-pause');\r\n    }\r\n\r\n    public deactivate() {\r\n        this.playIcon.node.classList.remove('active-item-pause', 'active-item-play');\r\n        this.playIcon.node.classList.add('not-active-item');\r\n    }\r\n\r\n    public viewPlay() {\r\n        this.playIcon.node.classList.remove('active-item-pause');\r\n        this.playIcon.node.classList.add('active-item-play');\r\n    }\r\n\r\n    public viewPause() {\r\n        this.playIcon.node.classList.remove('active-item-play');\r\n        this.playIcon.node.classList.add('active-item-pause');\r\n    }\r\n\r\n    public destroy(): void {\r\n        this.arrowIcon.node.onclick = null;\r\n        this.playIcon.node.onclick = null;\r\n        super.destroy();\r\n    }\r\n}","import { Control } from '../../../service/control';\r\nimport { IPlayItem, IAudioPlayerItem, audioPlayerItem } from '../../../interfaces/play-item.interface';\r\nimport { AudioControls } from './audio-controls/audio-controls'\r\nimport { WaiteListItem } from './wait-item/wait-item'\r\nimport { PlayItem } from './play-list-item/play-list-item';\r\n\r\nexport class AudioPlayerCustomHTML extends HTMLElement {\r\n    //data\r\n    private _audioList: IAudioPlayerItem[];\r\n    private _waitListItems: WaiteListItem[];\r\n    private _playListItems: PlayItem[];\r\n\r\n    private isAudioPlay: boolean = false;\r\n    private audioItem: PlayItem | null = null;\r\n\r\n    //HTMLElements\r\n    private container: Control;\r\n    private controls: AudioControls;\r\n    private lists: Control;\r\n    private playListWrap: Control;\r\n    private playListTitle: Control;\r\n    private playListUl: Control;\r\n    private waitingList: Control;\r\n    private waitingListTitle: Control;\r\n    private waitingListUl: Control;\r\n\r\n    //Attributes\r\n    static observedAttributes = [\r\n        'playList',\r\n    ];\r\n\r\n    get playList(): IPlayItem[] {\r\n        const list = JSON.parse(this.getAttribute('playList'));\r\n        return list;\r\n    }\r\n\r\n    set playList(value: IPlayItem[]) {\r\n        this.setAttribute('playList', JSON.stringify(value));\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this._audioList = [];\r\n        this._playListItems = [];\r\n        this._waitListItems = [];\r\n    }\r\n\r\n    async connectedCallback() {\r\n        //audio container\r\n        this.container = new Control(this, 'section', 'audio-player');\r\n        //audio controls\r\n        this.controls = new AudioControls(this.container.node);\r\n        this.controls.onEnded = () => this.onEnded();\r\n        this.controls.onClick = () => this.onClick('playStopAudio', this.audioItem)\r\n        //audio Lists\r\n        this.lists = new Control(this.container.node, 'div', 'audio-player__lists');\r\n        this.playListWrap = new Control(this.lists.node, 'div', ['audio-player__lists__play-list', 'list']);\r\n        this.playListTitle = new Control(this.playListWrap.node, 'h4', 'list__title', 'Play List');\r\n        this.playListUl = new Control(this.playListWrap.node, 'ul', 'audio-player__lists__play-list__list');\r\n        this.waitingList = new Control(this.lists.node, 'h3', ['audio-player__lists__waiting-list', 'list']);\r\n        this.waitingListTitle = new Control(this.waitingList.node, 'h4', 'list__title', 'Waiting list');\r\n        this.waitingListUl = new Control(this.waitingList.node, 'ul', 'items-list');\r\n\r\n        for (let i = 0; i < this.playList.length; i++) {\r\n            const audioInfo = this.playList[i];\r\n            const audio = new Audio();\r\n            audio.src = audioInfo.src;\r\n\r\n            const time: number = await new Promise((resolve): void => {\r\n                audio.onloadedmetadata = (): void => {\r\n                    resolve(audio.duration);\r\n                }\r\n            })\r\n            const id = `audioItem_${i}`;\r\n\r\n            const li = new WaiteListItem(audioInfo.title, time, id);\r\n            li.onClick = () => this.onClick('moveItemToPlayList', li);\r\n\r\n            const item: IAudioPlayerItem = audioPlayerItem(id, 'waitList', audioInfo.title, audioInfo.src, audio, time);\r\n\r\n            this._waitListItems.push(li);\r\n            this.waitingListUl.node.appendChild(li.node);\r\n            this._audioList.push(item);\r\n        }\r\n    }\r\n\r\n    disconnectedCallback() {\r\n        // браузер вызывает этот метод при удалении элемента из документа\r\n        // (может вызываться много раз, если элемент многократно добавляется/удаляется)\r\n    }\r\n\r\n    attributeChangedCallback(name: any, oldValue: any, newValue: any) {\r\n\r\n    }\r\n\r\n    onClick = (type: 'moveItemToPlayList' | 'playStopAudio' | 'moveItemToWaitList',\r\n        item: WaiteListItem | PlayItem): void => {\r\n\r\n        if (type === 'moveItemToPlayList') {\r\n            this.moveItemToPlayList(item as WaiteListItem);\r\n        }\r\n        if (type === 'playStopAudio') {\r\n            this.playStopAudio(item as PlayItem);\r\n        }\r\n        if (type === 'moveItemToWaitList') {\r\n            this.moveItemToWaitList(item as PlayItem);\r\n        }\r\n    }\r\n\r\n    onEnded = () => {\r\n        setTimeout(() => {\r\n            let nextAudio: PlayItem;\r\n            const playListLength = this._playListItems.length;\r\n            this.audioItem.deactivate();\r\n\r\n            this._playListItems.forEach((el, i) => {\r\n                if (this.audioItem === el) {\r\n                    nextAudio = i === (playListLength - 1) ? this._playListItems[0] : this._playListItems[i + 1];\r\n                }\r\n            });\r\n            this.audioItem = nextAudio;\r\n            const audioInfo = this._audioList.find(el => el.id === nextAudio.id);\r\n\r\n            nextAudio.active();\r\n            nextAudio.viewPlay();\r\n            this.controls.update(audioInfo.title, audioInfo.time, audioInfo.audio);\r\n            this.controls.play();\r\n        }, 1000);\r\n    }\r\n\r\n    moveItemToPlayList = (item: WaiteListItem): void => {\r\n        this._waitListItems = this._waitListItems.filter(el => el !== item);\r\n        const id = item.id;\r\n        item.destroy();\r\n\r\n        const audioItem = this._audioList.filter(el => el.id === id)[0];\r\n        audioItem.location = 'playList';\r\n        const playListItem = new PlayItem(audioItem.title, audioItem.time, id);\r\n\r\n        this.playListUl.node.appendChild(playListItem.node);\r\n        this._playListItems.push(playListItem);\r\n\r\n        if (this._playListItems.length === 1) {\r\n            playListItem.active();\r\n            this.audioItem = playListItem;\r\n            this.controls.update(audioItem.title, audioItem.time, audioItem.audio);\r\n        }\r\n        playListItem.onClickPlayPause = () => this.onClick('playStopAudio', playListItem);\r\n        playListItem.onClickMoveToWaitList = () => this.onClick('moveItemToWaitList', playListItem);\r\n    }\r\n\r\n    moveItemToWaitList = (item: PlayItem): void => {\r\n        const id = item.id;\r\n        let prevItem: null | PlayItem;\r\n        this._playListItems.forEach((el, i) => {\r\n            if (el.id == id) {\r\n                prevItem = (i === 0 && this._playListItems.length === 1) ? null : (i === 0 ? this._playListItems[1] : this._playListItems[i - 1]);\r\n            }\r\n        });\r\n        this._playListItems = this._playListItems.filter(el => el.id !== id);\r\n\r\n        if (this.audioItem === item) {\r\n            console.log('Это активный трек');\r\n            if (this.isAudioPlay) {\r\n                this.controls.pause();\r\n                this.controls.resetAudioTime();\r\n                this.isAudioPlay = false;\r\n                this.audioItem = null;\r\n            }\r\n\r\n            if (prevItem !== null) {\r\n                prevItem.active();\r\n                const prevItemInfo = this._audioList.find(el => el.id == prevItem.id);\r\n                this.controls.update(prevItemInfo.title, prevItemInfo.time, prevItemInfo.audio);\r\n                this.audioItem = prevItem;\r\n            } else {\r\n                this.controls.resetAudioData();\r\n                this.audioItem = null;\r\n            }\r\n        }\r\n        item.destroy();\r\n\r\n        const audioItem: IAudioPlayerItem = this._audioList.find(el => el.id === id);\r\n        audioItem.location = 'waitList';\r\n        const listItem = new WaiteListItem(audioItem.title, audioItem.time, id);\r\n\r\n        this.waitingListUl.node.appendChild(listItem.node);\r\n        this._waitListItems.push(listItem);\r\n        listItem.onClick = () => this.onClick('moveItemToPlayList', listItem);\r\n    }\r\n\r\n    playStopAudio = (item: PlayItem): void => {\r\n        if(item == null) {\r\n            this.controls.play();\r\n            return;\r\n        }\r\n        if (this.audioItem === item) {\r\n            if (this.isAudioPlay) {\r\n                this.audioItem.viewPause();\r\n                this.isAudioPlay = false;\r\n                this.controls.pause();\r\n            } else {\r\n                this.audioItem.viewPlay();\r\n                this.isAudioPlay = true;\r\n                this.controls.play();\r\n            }\r\n        } else {\r\n            const id: string = item.id;\r\n            const audioInfo: IAudioPlayerItem = this._audioList.filter(el => el.id === id)[0];\r\n\r\n            //деактивируем аудио\r\n            this.audioItem.deactivate();\r\n            this.controls.pause();\r\n            this.controls.resetAudioTime();\r\n\r\n            this.audioItem = item;\r\n            this.controls.update(audioInfo.title, audioInfo.time, audioInfo.audio);\r\n            item.active();\r\n            item.viewPlay();\r\n            this.controls.play();\r\n            this.isAudioPlay = true;\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        this.remove();\r\n    }\r\n}","\"use strict\";\r\n\r\nimport './assets/style/style.scss';\r\nimport { app } from './view/app';\r\nimport { AppRouter } from './view/app-router ';\r\nimport { AudioPlayerCustomHTML } from './view/components/audio-player/audio-player';\r\n\r\ncustomElements.define(\"audio-player\", AudioPlayerCustomHTML);\r\n\r\nconst routes: string[] = [\r\n    '/',\r\n    '/about'\r\n];\r\n\r\nlet currentPage: string | null = null;\r\n\r\nconst appRoute = new AppRouter(routes);\r\n\r\nconst onloadPage = () => {\r\n    const page = appRoute.route();\r\n    currentPage = page;\r\n    app.addPage(page);\r\n}\r\n\r\nconst onloadApp = () => {\r\n    app;\r\n    onloadPage();\r\n}\r\n\r\nwindow.onload = () => onloadApp();\r\n\r\nwindow.addEventListener('hashchange', () => {\r\n    app.removePage();\r\n    onloadPage();\r\n});","import { NotFound } from './pages/not-found/not-found'\r\n\r\nexport type Request = {\r\n    resource: string | null, id: string | null, verb: string | null\r\n}\r\n\r\nexport class AppRouter {\r\n    public routes: string[];\r\n    public notFound: NotFound;\r\n\r\n    constructor(routes: string[]) {\r\n        this.routes = routes;\r\n        this.notFound = new NotFound();\r\n    }\r\n\r\n    route = (): string => {\r\n        const pageName = this.parseRequestURL();\r\n        const page = this.routes.filter((el: string): boolean => el == pageName)[0];\r\n        return page;\r\n    }\r\n\r\n    parseRequestURL = (): string => {\r\n        let url = location.hash.slice(1).toLowerCase() || '/';\r\n        let r = url.split(\"/\")\r\n\r\n        let request: Request = {\r\n            resource: null,\r\n            id: null,\r\n            verb: null\r\n        }\r\n\r\n        request.resource = r[1];\r\n        request.id = r[2];\r\n        request.verb = r[3];;\r\n        let parsedURL = (request.resource ? '/' + request.resource : '/') + (request.id ? '/:id' : '') + (request.verb ? '/' + request.verb : '')\r\n        return parsedURL;\r\n    }\r\n}"],"names":["Control","constructor","perentNode","tagName","className","content","atr","element","document","createElement","Array","isArray","forEach","name","classList","add","textContent","append","el","setAttribute","value","this","node","destroy","remove","Nav","super","_navLists","key","nodeKey","navItems","_ul","i","li","link","a","push","perentKey","elementKey","translate","dictionary","item","NAV","Header","langs","container","_nav","appendChild","langsWrap","lang","input","onchange","onChange","checked","config","selectCurrentPage","pageName","Footer","playListData","title","src","Main","playList","audio","MAIN","About","_title","NotFound","en","ABOUT","TITLE","ru","by","Signal","listeners","listener","emit","params","filter","translator","_lang","app","body","currentPage","header","footer","main","addPage","page","newPage","removePage","audioPlayerItem","id","location","time","Utils","static","t","min","Math","floor","sec","AudioControls","parent","_audio","isSoundRunnerMouseDown","isPlay","mouseDownSoundRunner","console","log","onMousemove","e","mouseMoveSoundRunner","onMouseUp","mouseUp","window","addEventListener","removeEventListener","audioControls","topContainer","playButton","svg","createElementNS","innerHTML","onclick","onClick","audioTitle","timeBar","timeBarRunner","times","timesTimer","audioTime","soundBar","soundBarRunner","onmousedown","update","viewTime","play","onended","onEnded","startTimer","pause","stopTimer","resetAudioTime","currentTime","resetAudioData","_timer","setInterval","clearInterval","onmouseup","WaiteListItem","icon","PlayItem","playIcon","playSVG","onClickPlayPause","timeView","arrowIcon","arrowSVG","onClickMoveToWaitList","active","deactivate","viewPlay","viewPause","AudioPlayerCustomHTML","HTMLElement","isAudioPlay","audioItem","type","moveItemToPlayList","playStopAudio","moveItemToWaitList","setTimeout","nextAudio","playListLength","_playListItems","length","audioInfo","_audioList","find","controls","_waitListItems","playListItem","playListUl","prevItem","prevItemInfo","listItem","waitingListUl","JSON","parse","getAttribute","stringify","connectedCallback","lists","playListWrap","playListTitle","waitingList","waitingListTitle","Audio","Promise","resolve","onloadedmetadata","duration","disconnectedCallback","attributeChangedCallback","oldValue","newValue","observedAttributes","customElements","define","appRoute","routes","route","parseRequestURL","r","hash","slice","toLowerCase","split","request","resource","verb","notFound","onloadPage","onload"],"sourceRoot":""}