(()=>{"use strict";class e{constructor(e,t="div",n="",s="",a=null){const i=document.createElement(t);Array.isArray(n)&&n.forEach((e=>i.classList.add(e))),"string"==typeof n&&(i.className=n),i.textContent=s,e&&e.append(i),a&&a.forEach((e=>i.setAttribute(e.name,e.value))),this.node=i}destroy(){this.node.remove()}}class t extends e{constructor(){super(null,"nav","nav"),this._navLists=[{name:"main",key:"MAIN"},{name:"about",key:"ABOUT"}],this.perentKey="NAV",this.navItems=[],this._ul=new e(this.node,"ul","nav__list","",null),this._navLists.forEach(((t,n)=>{const s=new e(this._ul.node,"li","nav__list__item","",null),a=0===n?"#/":`#/${t.name}`,i=new e(s.node,"a","nav__list__item__link","",[{name:"href",value:a}]);this.navItems.push({element:i.node,perentKey:this.perentKey,elementKey:t.key})}))}translate(e){this.navItems.forEach((t=>{const n=e[t.perentKey][t.elementKey];t.element.textContent=n}))}}class n extends e{constructor(n){super(null,"header","header"),this.navItems=[],this.langs=n,this.container=new e(this.node,"div","container"),this._nav=new t,this.navItems=this._nav.navItems,this.container.node.appendChild(this._nav.node),this.langsWrap=new e(this.container.node,"div","container__langs"),this.langs.forEach(((t,n)=>{const s=new e(this.langsWrap.node,"div","header__langs__item"),a=new e(s.node,"input","header__langs__item__input","",[{name:"name",value:"lang"},{name:"id",value:`${t}`},{name:"type",value:"radio"}]);a.node.onchange=()=>this.onChange(t),0===n&&(a.node.checked=!0),new e(s.node,"label","header__langs__item__label",t,[{name:"for",value:`${t}`}])}))}translate(e){this._nav.translate(e)}selectCurrentPage(e){switch(this.navItems.forEach((e=>e.element.classList.remove("active"))),e){case"/":this.navItems[0].element.classList.add("active");break;case"/about":this.navItems[1].element.classList.add("active")}}}class s{constructor(){this.node=document.createElement("footer"),this.node.classList.add("footer"),this.node.textContent="footer"}}class a extends e{constructor(){super(null,"div",["main-page","page"]),this.name="main-page",this.perentKey="MAIN",this.destroy=()=>{this.node.remove()},this.title=new e(this.node,"h2","main-page__title","Custom HTML Element"),this.audio=new e(this.node,"audio-player","main-page__audio-player","",[{name:"playButtonSize",value:"20"}])}translate(e){this.title.node.textContent=e[this.perentKey].TITLE}}class i extends e{constructor(){super(null,"div",["about-page","page"]),this.name="about-page",this.destroy=()=>{this.node.remove()},this._title=new e(this.node,"h2","about-page__title",this.name,null)}translate(e){}}class o extends e{constructor(){super(null,"div",["not-found","page"]),this.name="not-found-page",this.destroy=()=>{this.node.remove()},this._title=new e(this.node,"h2",`${this.name}__title`,this.name)}translate(e){}}const r={NAV:{MAIN:"main",ABOUT:"about"},MAIN:{TITLE:"Custom HTML Element"}},l={NAV:{MAIN:"главная",ABOUT:"о проекте"},MAIN:{TITLE:"Пользовательский HTML элемент"}},h={NAV:{MAIN:"галоўная",ABOUT:"аб праекце"},MAIN:{TITLE:"Спецыялізаваны элемент кіравання"}},d=new class{constructor(){}translate(e){switch(e){case"ru":return l;case"by":return h;default:return r}}},u=new class extends e{constructor(){super(document.body,"div","wrapper"),this.currentPage=null,this.translate=e=>{const t=d.translate(e);this.header.translate(t),this.currentPage&&this.currentPage.translate(t)},this.lang="en",this.header=new n(["en","ru","by"]),this.footer=new s,this.main=new e(null,"main","main","",null),this.node.append(this.header.node,this.main.node,this.footer.node),this.header.onChange=e=>{this.translate(e),this.lang=e}}addPage(e){this.header.selectCurrentPage(e);let t=null;switch(e){case"/":t=new a;break;case"/about":t=new i;break;default:t=new o}this.currentPage=t,this.main.node.appendChild(t.node),this.translate(this.lang)}removePage(){null!==this.currentPage&&this.currentPage.destroy()}};class c extends HTMLElement{constructor(){super(),this.audio=new Audio,this.isPlay=!1,this.audio.src="assets/audio/Christmas_Time_-_Jingle_Bell_Rock_(musmore.com).mp3"}get playButtonSize(){return+this.getAttribute("playButtonSize")}set playButtonSize(e){this.setAttribute("playButtonSize",e.toString())}connectedCallback(){this.container=new e(this,"section","audio-player"),this.controls=new e(this.container.node,"div","audio-player__controls"),this.playButton=new e(this.controls.node,"button","audio-player__controls__button","+"),this.playButton.node.onclick=()=>this.play(),this.timeBar=new e(this.controls.node,"div","audio-player__controls__time-bar"),this.timeBarRunner=new e(this.timeBar.node,"div","audio-player__controls__time-bar__runner"),this.times=new e(this.controls.node,"div","audio-player__controls__times"),this.timesTimer=new e(this.times.node,"p","audio-player__controls__times__timer","00:00"),this.timesAudioTime=new e(this.times.node,"p","audio-player__controls__times__audio-time","00:00"),this.soundBar=new e(this.controls.node,"div","audio-player__controls__sound-bar"),this.playList=new e(this.container.node,"div","audio-player__play-list")}disconnectedCallback(){}attributeChangedCallback(e,t,n){}update(){}play(){this.isPlay?this.audio.pause():this.audio.play(),this.isPlay=!this.isPlay}}c.observedAttributes=["playButtonSize"],customElements.define("audio-player",c);let m=null;const _=new class{constructor(e){this.route=()=>{const e=this.parseRequestURL();return this.routes.filter((t=>t==e))[0]},this.parseRequestURL=()=>{let e=(location.hash.slice(1).toLowerCase()||"/").split("/"),t={resource:null,id:null,verb:null};return t.resource=e[1],t.id=e[2],t.verb=e[3],(t.resource?"/"+t.resource:"/")+(t.id?"/:id":"")+(t.verb?"/"+t.verb:"")},this.routes=e,this.notFound=new o}}(["/","/about"]),p=()=>{const e=_.route();m=e,u.addPage(e)};window.onload=()=>{p()},window.addEventListener("hashchange",(()=>{u.removePage(),p()}))})();
//# sourceMappingURL=main.js.map