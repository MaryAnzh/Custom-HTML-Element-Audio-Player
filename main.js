(()=>{"use strict";class e{constructor(e,t="div",s="",n="",a=null){const i=document.createElement(t);Array.isArray(s)&&s.forEach((e=>i.classList.add(e))),"string"==typeof s&&(i.className=s),i.textContent=n,e&&e.append(i),a&&a.forEach((e=>i.setAttribute(e.name,e.value))),this.node=i}destroy(){this.node.remove()}}class t extends e{constructor(){super(null,"nav","nav"),this._navLists=[{name:"main",key:"MAIN"},{name:"about",key:"ABOUT"}],this.perentKey="NAV",this.navItems=[],this._ul=new e(this.node,"ul","nav__list","",null),this._navLists.forEach(((t,s)=>{const n=new e(this._ul.node,"li","nav__list__item","",null),a=0===s?"#/":`#/${t.name}`,i=new e(n.node,"a","nav__list__item__link","",[{name:"href",value:a}]);this.navItems.push({element:i.node,perentKey:this.perentKey,elementKey:t.key})}))}translate(e){this.navItems.forEach((t=>{const s=e[t.perentKey][t.elementKey];t.element.textContent=s}))}}class s extends e{constructor(s){super(null,"header","header"),this.navItems=[],this.langs=s,this.container=new e(this.node,"div","container"),this._nav=new t,this.navItems=this._nav.navItems,this.container.node.appendChild(this._nav.node),this.langsWrap=new e(this.container.node,"div","container__langs"),this.langs.forEach(((t,s)=>{const n=new e(this.langsWrap.node,"div","header__langs__item"),a=new e(n.node,"input","header__langs__item__input","",[{name:"name",value:"lang"},{name:"id",value:`${t}`},{name:"type",value:"radio"}]);a.node.onchange=()=>this.onChange(t),0===s&&(a.node.checked=!0),new e(n.node,"label","header__langs__item__label",t,[{name:"for",value:`${t}`}])}))}translate(e){this._nav.translate(e)}selectCurrentPage(e){switch(this.navItems.forEach((e=>e.element.classList.remove("active"))),e){case"/":this.navItems[0].element.classList.add("active");break;case"/about":this.navItems[1].element.classList.add("active")}}}class n{constructor(){this.node=document.createElement("footer"),this.node.classList.add("footer"),this.node.textContent="footer"}}const a=[{title:"Jingle Bell Rock",src:"assets/audio/Christmas_Time_-_Jingle_Bell_Rock_(musmore.com).mp3"}];class i extends e{constructor(){super(null,"div",["main-page","page"]),this.name="main-page",this.perentKey="MAIN",this.playList=a,this.destroy=()=>{this.node.remove()},this.title=new e(this.node,"h2","main-page__title","Custom HTML Element"),this.audio=document.createElement("audio-player"),this.audio.classList.add("main-page__audio-player"),this.node.appendChild(this.audio),this.audio.playList=a}translate(e){this.title.node.textContent=e[this.perentKey].TITLE}}class o extends e{constructor(){super(null,"div",["about-page","page"]),this.name="about-page",this.destroy=()=>{this.node.remove()},this._title=new e(this.node,"h2","about-page__title",this.name,null)}translate(e){}}class r extends e{constructor(){super(null,"div",["not-found","page"]),this.name="not-found-page",this.destroy=()=>{this.node.remove()},this._title=new e(this.node,"h2",`${this.name}__title`,this.name)}translate(e){}}const l={NAV:{MAIN:"main",ABOUT:"about"},MAIN:{TITLE:"Custom HTML Element"}},h={NAV:{MAIN:"главная",ABOUT:"о проекте"},MAIN:{TITLE:"Пользовательский HTML элемент"}},d={NAV:{MAIN:"галоўная",ABOUT:"аб праекце"},MAIN:{TITLE:"Спецыялізаваны элемент кіравання"}},u=new class{constructor(){}translate(e){switch(e){case"ru":return h;case"by":return d;default:return l}}},c=new class extends e{constructor(){super(document.body,"div","wrapper"),this.currentPage=null,this.translate=e=>{const t=u.translate(e);this.header.translate(t),this.currentPage&&this.currentPage.translate(t)},this.lang="en",this.header=new s(["en","ru","by"]),this.footer=new n,this.main=new e(null,"main","main","",null),this.node.append(this.header.node,this.main.node,this.footer.node),this.header.onChange=e=>{this.translate(e),this.lang=e}}addPage(e){this.header.selectCurrentPage(e);let t=null;switch(e){case"/":t=new i;break;case"/about":t=new o;break;default:t=new r}this.currentPage=t,this.main.node.appendChild(t.node),this.translate(this.lang)}removePage(){null!==this.currentPage&&this.currentPage.destroy()}};class _ extends HTMLElement{constructor(){super(),this.audio=new Audio,this.isPlay=!1}get playList(){return JSON.parse(this.getAttribute("playList"))}set playList(e){this.setAttribute("playList",JSON.stringify(e))}connectedCallback(){this.container=new e(this,"section","audio-player"),this.controls=new e(this.container.node,"div","audio-player__controls"),this.playButton=new e(this.controls.node,"button","audio-player__controls__button","+"),this.playButton.node.onclick=()=>this.play(),this.timeBar=new e(this.controls.node,"div","audio-player__controls__time-bar"),this.timeBarRunner=new e(this.timeBar.node,"div","audio-player__controls__time-bar__runner"),this.times=new e(this.controls.node,"div","audio-player__controls__times"),this.timesTimer=new e(this.times.node,"p","audio-player__controls__times__timer","00:00"),this.timesAudioTime=new e(this.times.node,"p","audio-player__controls__times__audio-time","00:00"),this.soundBar=new e(this.controls.node,"div","audio-player__controls__sound-bar"),this.soundBarRunner=new e(this.soundBar.node,"div","audio-player__controls__sound-bar__runner"),this.playListWrap=new e(this.container.node,"div","audio-player__play-list"),this.playListTitle=new e(this.playListWrap.node,"h3","audio-player__play-list__title","Play List"),this.audio.src=this.playList[0].src}disconnectedCallback(){}attributeChangedCallback(e,t,s){}update(){}play(){this.isPlay?this.audio.pause():this.audio.play(),this.isPlay=!this.isPlay}}_.observedAttributes=["playList"],customElements.define("audio-player",_);let m=null;const p=new class{constructor(e){this.route=()=>{const e=this.parseRequestURL();return this.routes.filter((t=>t==e))[0]},this.parseRequestURL=()=>{let e=(location.hash.slice(1).toLowerCase()||"/").split("/"),t={resource:null,id:null,verb:null};return t.resource=e[1],t.id=e[2],t.verb=e[3],(t.resource?"/"+t.resource:"/")+(t.id?"/:id":"")+(t.verb?"/"+t.verb:"")},this.routes=e,this.notFound=new r}}(["/","/about"]),y=()=>{const e=p.route();m=e,c.addPage(e)};window.onload=()=>{y()},window.addEventListener("hashchange",(()=>{c.removePage(),y()}))})();
//# sourceMappingURL=main.js.map